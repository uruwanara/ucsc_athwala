if (self.CavalryLogger) { CavalryLogger.start_js(["eatCRlo"]); }

__d("MCompositionStoreID",[],(function(a,b,c,d,e,f){a=Object.freeze({CONFIG:"CONFIG",FORMAT:"FORMAT",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",PAGE_RECOMMENDATIONS:"PAGE_RECOMMENDATIONS",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW"});f["default"]=a}),66);
__d("MComposition",["invariant","MCompositionStoreID"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){a=a||{};this.$1={};for(var b in a)this.setStoreData(b,a[b])}var c=a.prototype;c.serialize=function(){return this.$1};c.$2=function(a){Object.prototype.hasOwnProperty.call(b("MCompositionStoreID"),a)||g(0,11921,a)};c.setStoreData=function(a,b){this.$2(a);Object.prototype.hasOwnProperty.call(this.$1,a)&&g(0,11922,a);this.$1[a]=b;return this};return a}();e.exports=a}),null);
__d("MComposerPresence",["invariant","$","DOM","EventEmitter","MLegacyDataStore"],(function(a,b,c,d,e,f,g){var h="REGISTERED",i=null,j=new(b("EventEmitter"))();a={addRegistrationListener:function(a){return j.addListener(h,a)},hasRegisteredInstance:function(){return!!i},hasLoadedPrivacyValue:function(a){return!this.hasRegisteredInstance()?!1:b("DOM").scry(b("DOM").find(b("$")("static_templates"),"div","composer-main-view"),"tr","privacy-option").some(function(c){return b("MLegacyDataStore").get(c).value===a})},register:function(a){i&&g(0,5767),i=a,j.emit(h)},unregister:function(a){i===a||g(0,5768),i=null},cleanup:function(){i!==null&&i.cleanup()}};e.exports=a}),null);
__d("MComposerAsyncLoadRequest",["MComposerPresence","MRequest","Promise"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){this.$1=null,this.$2=null,this.$3=null}var c=a.prototype;c.$4=function(){this.$1&&(this.$1.remove(),this.$1=null),this.$3&&(this.$3.abort(),this.$3=null)};c.$5=function(a){var c=this;return new(b("Promise"))(function(d,e){c.$1=b("MComposerPresence").addRegistrationListener(d),c.$3=new(b("MRequest"))(a),c.$3.setAutoRetry(!1),c.$3.listen("fail",e),c.$3.send()})};c.send=function(a){var b=this;this.$2||(this.$2=this.$5(a),this.$2["finally"](function(){return b.$4()}));return this.$2};return a}();e.exports=a}),null);
__d("XComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/async_loader/",{targetid:{type:"Int"},photo_url:{type:"String"},video_url:{type:"String"},attachment_id:{type:"String"}})}),null);
__d("MComposerEntry",["ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerPresence","MComposition","MLegacyDataStore","Promise","Stratcom","XComposerAsyncLoaderController"],(function(a,b,c,d,e,f){var g,h=new(b("Promise"))(function(a,b){return b()}),i=new(b("Promise"))(function(a){return a()}),j=(g||(g=b("ErrorUtils"))).guard(function(a){if(a)throw a},"MComposerEntry");function a(a){if(o)return;p.invoke(new(b("MComposition"))(b("MLegacyDataStore").get(a.getNode("composer_entry_trigger")).COMPOSITION))}function k(a,c,d,e,f){e===void 0&&(e=!0);o=!0;var g=null;b("MComposerPresence").hasRegisteredInstance()?g=n(a,d):g=m(a,c,e).then(function(){var b=!0;f&&(b=f());if(b)return n(a,d)},j);g["finally"](function(){return o=!1});return g}function l(a,c){return b("MComposerPresence").hasRegisteredInstance()?i:new(b("MComposerAsyncLoadRequest"))().send(c)}function m(a,c,d){d===void 0&&(d=!0);d&&b("LoadingIndicator").show();a=l(a,c);d&&a["finally"](function(){return b("LoadingIndicator").hide()});return a}function n(a,c){return new(b("Promise"))(function(d,e){var f={};f.COMPOSITION=a.serialize();f.ON_CANCEL=e;f.ON_SUBMIT=d;f.ON_OPEN=c;b("Stratcom").invoke("MComposer:entry:js",null,f)})}var o=!1;b("XComposerAsyncLoaderController").getURIBuilder().getURI();b("Stratcom").listen("click","composer_entry_trigger",a);b("Stratcom").listen("m:page:unload",null,function(){o=!1});var p={invoke:function(a,c,d,e,f){if(o||p.blockNavigateToComposer())return h;c=b("XComposerAsyncLoaderController").getURIBuilder().setInt("targetid",c);d!==void 0&&(c=c.setString("photo_url",d));e!==void 0&&(c=c.setString("video_url",e));f!==void 0&&(c=c.setString("attachment_id",f));return k(a||new(b("MComposition"))(),c.getURI())},invokeOcelot:function(a,c,d,e){if(o||p.blockNavigateToComposer())return h;var f=new(b("MComposition"))();return k(f,a,d,c,e)},blockNavigateToComposer:function(){return window.bgUploadInlineComposerCallback?window.bgUploadInlineComposerCallback():!1}};e.exports=p}),3);
__d("XFeedNUXSaveSeenStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:!0},seen:{type:"Bool",defaultValue:!1},env:{type:"Enum",enumType:0}})}),null);
__d("MFeedNUXTooltip",["DOM","MRequest","MViewport","Stratcom","SubscriptionsHandler","XFeedNUXSaveSeenStateController","destroyOnUnload","mixInEventEmitter"],(function(a,b,c,d,e,f){var g={},h,i={},j,k=0,l=100,m=1,n=0;function o(){h=b("Stratcom").listen("scroll",null,q),b("destroyOnUnload")(p)}function p(){h&&h.remove(),h=null,window.clearTimeout(j),j=null}function q(){var a=b("MViewport").getHeight();j&&(window.clearTimeout(j),j=null);for(var c in g){var d=g[c],e=d.getNodes(),f=d.getHeadRoom();for(var h=0;h<e.length;h++){var i=e[h].getBoundingClientRect();if(i.top>=f&&i.bottom<=a){r(e[h],d);break}}}}function r(a,b){j=window.setTimeout(function(){b.getContext()!==a&&(b.setContext(a),b.show())},k)}a=function(){"use strict";function a(a,c,d,e){g.length||o();if(g[c]||i[c]){d.destroy();return}this.$1=c;this.$2=b("DOM").scry(document.getElementById("page"),"*",a);this.$3=a;this.$4=n;this.$5=d;this.$6=e===0?0:e||l;g[c]=this;var f=new(b("SubscriptionsHandler"))();f.addSubscriptions(this.$5.addListener("show",this.emit.bind(this,"show")),this.$5.addListener("hide",function(){this.emit("hide"),f.release()}.bind(this)));q()}var c=a.prototype;c.destroy=function(){delete g[this.$1],Object.keys(g).length||p()};c.getContext=function(){return this.$5.getContext()};c.getNodes=function(){return this.$2};c.getHeadRoom=function(){return this.$6};c.getIsUnseen=function(){return this.$4===n};c.setContext=function(a){this.$5&&this.$5.setContext(a)};c.show=function(){if(!this.$5||this.$4===m)return;i[this.$1]=!0;this.$4=m;this.$5.show();var a=b("XFeedNUXSaveSeenStateController").getURIBuilder().setString("key",this.$1).setBool("seen",!0);new(b("MRequest"))(a.getURI()).setMethod("POST").send();this.destroy()};c.hide=function(){this.$5&&this.$5.hide()};return a}();b("mixInEventEmitter")(a,{show:!0,hide:!0});e.exports=a}),null);
__d("MFeedReactionsNUX",["BanzaiLogger","MLegacyDataStore","MLiveData","Stratcom","SubscriptionsHandler","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b&&b.isCommentNUX;if(a){var f=new(c("SubscriptionsHandler"))();f.addSubscriptions(c("Stratcom").listen("click","like-reaction-flyout",function(b){var g=b.getNode("like-reaction-flyout"),i=b.getNode("feed-ufi-comments");if(!g||i)return;i=d("MLegacyDataStore").get(g);if(e&&!i.isComment||!e&&i.isComment)return;var j=i.feedback_target||i.feedbackTarget;if(j){var k=d("MLiveData").get(j);f.addSubscriptions(k.listen("change",function(){k.getData().has_viewer_liked&&c("requestAnimationFrame")(function(){a.setContext(b.getTarget()),a.show(),h(j)})}))}}),a.once("hide",function(){f.release()}));e||f.addSubscriptions(c("Stratcom").listen("click","reactions-bling-bar",function(b){var c=b.getNode("mufi-inline").querySelector('a[data-sigil*="like-reaction-flyout"]');if(c){var e=b.getNode("feed-ufi-metadata");e=d("MLegacyDataStore").get(e).feedback_target.toString();h(e);a.setContext(c);a.show();b.kill()}}));c("Stratcom").listen("m:page:unload",null,function(){c("Stratcom").removeCurrentListener(),f.release()})}}function h(a){c("BanzaiLogger").log("WebReactionsNuxLoggerConfig",{feedback_id:a,"interface":"mTouch"})}g.init=a}),98);
__d("MUFIReactionsUtils",["BackgroundSyncParameters","DateConsts","UFIReactionsUtils"],(function(a,b,c,d,e,f){var g=[null,null],h=1,i=0,j={getReactionData:function(a,c){var d=a.viewerreaction||a.has_viewer_liked?h:i,e=a.like_count,f=a.like_counts||g,j=a.like_friend_sentences||g,k=a.like_sentences||g;d&&!c?e--:!d&&c&&e++;var l=a.reduced_like_count;isNaN(l)||(l=e.toString());(d&&!c||!d&&c)&&(f=[f[1],f[0]],j=[j[1],j[0]],k=[k[1],k[0]]);return babelHelpers["extends"]({has_viewer_liked:!!c,like_count:e,like_counts:f,like_friend_sentences:j,like_sentences:k,reduced_like_count:l},b("UFIReactionsUtils").getReactionData(a,c,a.actor_for_post))},getReactionDataForComment:function(a,b){var c=a.reactioncount,d=a.reactioncountreduced;a.viewerreaction&&!b?c--:!a.viewerreaction&&b&&c++;c=Math.max(c,0);d&&!isNaN(d)&&(d=c.toString());a=j.getReactionData(a,b);return{has_viewer_liked:a.has_viewer_liked,like_count:a.like_count,reactioncount:c,reactioncountmap:a.reactioncountmap,reactioncountreduced:d,viewerreaction:a.viewerreaction}},getConfigForBackgroundRetry:function(a){return!navigator.serviceWorker||!navigator.serviceWorker.controller?void 0:b("BackgroundSyncParameters").shouldRecoverReactions?{requestId:"react_"+a,ttl:2*b("DateConsts").SEC_PER_HOUR,maxRetry:1}:void 0}};e.exports=j}),null);
__d("MUFIRequest",["ChannelClientID","ClientIDs","MLiveData","MRequest","MURI","Stratcom"],(function(a,b,c,d,e,f){var g=b("MURI").getHashPrefixRegex(),h={};function a(a){a=new(b("MURI"))(a);var c=a.getFragment();g.test(c)&&(a=new(b("MURI"))(c.replace(g,"/")));return a.setProtocol(null).setDomain(null).setFragment(null)}function c(a,c,d,e,f){c&&(c.request_id=null,b("MLiveData").update(a,c));h[a]&&h[a].abort();d.addQueryData("client_id",b("ClientIDs").getNewClientID());d.addQueryData("session_id",b("ChannelClientID").getID());c=new(b("MRequest"))(d.toString());c.listen("finally",function(){h[a]=null});c.listen("postprocess",function(){b("Stratcom").invoke("m:ajax:complete")});c.setAutoRetry(!0);f&&c.setBackgroundRetry(f);e&&c.setData(e);h[a]=c;c.send()}e.exports={getURI:a,send:c}}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["cx","fbt","ActorURI","BanzaiLogger","CSS","CancelableEventListener","DOM","MBlockingTouchable","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f,g,h,i){var j=17,k="_ft_",l={top:.3,bottom:.6},m,n=[],o=function(){function a(a){var b=this;this.autoHideOnScroll=function(a){a=b.flyout;if(!a||!a.isShown()){c("Stratcom").removeCurrentListener();return}var d;window.innerHeight?d=window.innerHeight:document.body&&(d=document.body.clientHeight);if(!d)return;var e=a.getContext().getBoundingClientRect().top,f=d*l.top,g=d*l.bottom;(e<f||e>g)&&a.hide()};this.onUnload=function(){b.onHide(),b.pageSubscriptions.release()};this.onClick=function(a){a=a.getNode("reaction-item");a instanceof HTMLElement&&b.select(a)};this.onScreenReaderTrigger=function(a){a=a.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;b.flyout.setContext(a);b.setSupported();b.flyout.show();b.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("click","reaction-item",b.onClick));a=d("MLiveData").get(d("MLegacyDataStore").get(b.flyout.getContext()).feedbackTarget).getData();a=a.viewerreaction;var e=null;for(var f=0,g=b.reactionElements.length;f<g;f++){var h=d("MLegacyDataStore").get(b.reactionElements[f]);h=h.reaction;h===a&&(e=b.reactionElements[f])}e||(e=b.reactionElements[0]);e.focus()};this.onClickTrigger=function(a){a=a.getTarget();if(!(a instanceof HTMLElement))return;var e=b.flyout;if(e.isShown()){e.hide();return}c("Stratcom").hasSigil(a,"like-reaction-flyout")||(a=d("MParent").bySigil(a,"like-reaction-flyout"));a&&b.setupFlyout(e,a)};this.onClickCapture=function(a){var c=b.flyout;if(c){var e=d("MLegacyDataStore").get(c.getContext());e=e.kaiOSReactions;if(e&&c.isShown()){c.hide();return}}a.stop()};this.onTouchStart=function(a){var e=b.flyout;if(!e.isShown()){var f=document;f=f.body;f&&c("CSS").addClass(f,"_70ol");b.touchStartX=a.getTouch().clientX;b.timing.touchStartTime=Date.now();b.preventScrollTimeout=c("setTimeout")(function(){b.canScroll=!1},200);b.longpressTimeout=c("setTimeout")(function(){b.timing.shownTime=Date.now();var f=a.getTarget();if(!(f instanceof HTMLElement))return;c("Stratcom").hasSigil(f,"like-reaction-flyout")||(f=d("MParent").bySigil(f,"like-reaction-flyout"));f&&b.setupFlyout(e,f)},300)}};this.onTouchMove=function(a){var c=b.flyout,e=c.getContext()&&d("MLegacyDataStore").get(c.getContext()).isComment;b.canScroll||(e?a.kill():a.prevent());if(!c.isShown())return;a=a.getTouch();var f=a.clientX;a=a.clientY;a=document.elementFromPoint(f,a);if(a){var g=a.nodeName==="I"||a.nodeName==="IMG";if(!(g||b.canScrub)){b.canScrub=Math.abs(b.touchStartX-f)>=25;return}c.getContentRoot().setAttribute("data-longpress",!0);if(c.getContentRoot().contains(a)){if(g){a=(f=a)!=null?(f=f.parentNode)!=null?f.parentNode:f:f}b.active!==a&&d("MLegacyDataStore").get(a).reaction&&(b.isUpdatedDock||e?b.showOverlay(b.overlay&&b.overlay.slide):b.showOverlay(b.overlay&&b.overlay.dots),b.removeActive(),b.active=a,a&&a.setAttribute("data-active","true"))}else(!b.overlay||!b.overlay.container.contains(a))&&(b.removeActive(),b.showOverlay(b.overlay&&b.overlay.release))}};this.onTouchEnd=function(a){var c=b.active;if(c)b.log({finalReaction:d("MLegacyDataStore").get(c).reaction,viaScrubbing:!0}),b.select(c);else{c=a.getTouch();a=c.clientX;c=c.clientY;a=document.elementFromPoint(a,c);c=b.flyout;a&&!(c.getContentRoot().contains(a)||c.getContext().contains(a)||b.overlay&&b.overlay.container.contains(a))&&c.hide()}};this.onWindowClick=function(a){var c;a=a.getNode("reaction-item");a&&(c=d("MLegacyDataStore").get(a).reaction);b.log({finalReaction:c,viaScrubbing:!1})};this.onWindowTouchEnd=function(){var a=b.flyout;a.isShown()?(b.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(b.canScroll=!0,c("clearTimeout")(b.longpressTimeout),c("clearTimeout")(b.preventScrollTimeout))};this.onHide=function(){var a=document;a=a.body;a&&c("CSS").addClass(a,"_70ol");b.canScroll=!0;b.canScrub=!1;b.removeActive();b.removeUFIOverlay();b.flyout.hide();b.flyoutSubscriptions.release();b.flyoutSubscriptions=new(c("SubscriptionsHandler"))()};this.onWindowTouchMove=function(){b.flyout.isShown()||(b.canScroll=!0,c("clearTimeout")(b.longpressTimeout),c("clearTimeout")(b.preventScrollTimeout))};this.flyout=a;this.active=null;this.canScroll=!0;this.canScrub=!1;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.timing={touchStartTime:null,touchEndTime:null,shownTime:null};this.touchStartX=0;this.isUpdatedDock=c("MUFIConfig").hasUpdatedDock;this.pageSubscriptions=new(c("SubscriptionsHandler"))();this.flyoutSubscriptions=new(c("SubscriptionsHandler"))();this.assignFlyoutContent();this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),c("Stratcom").listen("m:page:unload",null,this.onUnload),c("Stratcom").listen("m:viewport:orientation-change",null,this.onHide),c("Stratcom").listen(c("TouchEventType").END,null,this.onWindowTouchEnd),c("Stratcom").listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),d("CancelableEventListener").listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove));n.forEach(function(a){return b.addAnchor(a)});m&&this.setNUXTooltip(m);c("MUFIConfig").hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(c("Stratcom").listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(c("Stratcom").listen("touchmove",null,this.onWindowTouchMove))}var b=a.prototype;b.addAnchor=function(a){var b=c("Stratcom").hasSigil(a,"kaios-like-react-trigger");b?this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,"click",null,this.onClickTrigger)):this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,c("TouchEventType").START,null,this.onTouchStart));c("MUFIConfig").hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(d("CancelableEventListener").listen(a,"touchmove","like-reaction-flyout",this.onTouchMove),d("CancelableEventListener").listen(a,"touchmove","reaction-item",this.onTouchMove))};b.assignFlyoutContent=function(){(!this.reactionElements||this.reactionElements.length===0)&&(this.reactionElements=document.getElementsByClassName("_1-kd"),Array.prototype.forEach.call(this.reactionElements,function(a){return d("MBlockingTouchable").init(a)}))};b.setupFlyout=function(a,b){var e=d("MLegacyDataStore").get(b);a.setContext(b);this.setSupported();b=this.nuxTooltip;b&&b.hide();b=a.getContentRoot();b=d("MParent").bySigil(b,"m-layer-root");b&&(this.isUpdatedDock&&!e.isComment&&(this.applyMultilineFlyout(),c("CSS").addClass(b,"_5xt_")),e.isComment&&c("CSS").addClass(b,"_31rl"));a.show();b=d("MLegacyDataStore").get(a.getContext());a=b.kaiOSReactions;a||this.createUFIOverlay();this.isUpdatedDock||e.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("click","reaction-item",this.onClick),c("Stratcom").listenCapture("click","like-reaction-flyout",this.onClickCapture),c("Stratcom").listenCapture("click",null,this.onWindowClick));a&&this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("scroll",null,this.autoHideOnScroll));c("MUFIConfig").hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(c("Stratcom").listen("touchend","like-reaction-flyout",this.onTouchEnd),c("Stratcom").listen("touchend","reaction-item",this.onTouchEnd))};b.select=function(a){var b=this.flyout;b.hide();if(!a)return;a=d("MLegacyDataStore").get(a);a=a.reaction;b=b.getContext();var e=d("MLegacyDataStore").get(b),f=e.feedbackTarget;e=e.isComment;var g=d("MLiveData").get(f).getData();if(g.viewerreaction===a)return;if(e){e=b.getAttribute("data-uri")||b.getAttribute("href");e=d("MUFIRequest").getURI(e);e.addQueryData("reaction_comment_id",f.split("_")[1]);e.addQueryData("viewer_reaction",a);d("MUFIRequest").send(f,d("MUFIReactionsUtils").getReactionDataForComment(g,a),e)}else{e=g.actor_for_post;e!==0&&!e&&(e=null);var h=d("MParent").bySigil(b,"story-div"),i=null;if(h){h=d("MLegacyDataStore").get(h).linkdata;if(h&&c("gkx")("816008")){var j;i=(j={},j[k]=h,j)}}j=babelHelpers["extends"]((h={},h[d("ActorURI").PARAMETER_ACTOR]=e,h.ft_ent_identifier=f,h.reaction_type=a,h.feedback_source=new(c("URI"))(b.getAttribute("data-uri")).getQueryData().feedback_source,h),i);d("MUFIRequest").send(f,d("MUFIReactionsUtils").getReactionData(g,a),c("XUFIReactionController").getURIBuilder().getURI(),j,d("MUFIReactionsUtils").getConfigForBackgroundRetry(f))}};b.removeActive=function(){var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};b.applyMultilineFlyout=function(){var a=this.flyout,b=a.getContext();b=d("MParent").bySigil(b,"mufi-inline");a=a.getContentRoot();b=d("DOM").scry(b,"div","reactions-bling-bar");if(b.length==0){c("CSS").addClass(a,"_5xu1");return}b=b[0].getBoundingClientRect().height;b>j?c("CSS").addClass(a,"_5xu0"):b<j?c("CSS").addClass(a,"_5xu1"):(c("CSS").removeClass(a,"_5xu0"),c("CSS").removeClass(a,"_5xu1"))};b.showOverlay=function(a){var b=this.overlay;if(b&&a){c("CSS").show(a);for(var d in b){var e=b[d];e!=a&&e!=b.container&&c("CSS").hide(e)}}};b.log=function(a){var b=d("MLiveData").get(d("MLegacyDataStore").get(this.flyout.getContext()).feedbackTarget).getData(),e=b.ft_ent_identifier;b=b.viewerreaction;var f=this.timing,g=f.touchEndTime,h=f.touchStartTime;f=f.shownTime;if(!g||!h||!f)return;g=g-h;c("BanzaiLogger").log("UserReactionsLoggerConfig",{feedback_id:e,final_reaction:a.finalReaction||b,initial_reaction:b,"interface":"mTouch",long_press_duration:g>0?g:0,time_spent:Date.now()-f,via_scrubbing:a.viaScrubbing})};b.createUFIOverlay=function(){var a=this.flyout.getContext(),b=d("MLegacyDataStore").get(a),e=b.feedbackTarget;b=b.isComment;e=(e=d("MLiveData").get(e).getData().supportedreactions)!=null?e:this.getSupportedReactions();var f=document.createElement("div");f.style.display="none";f.className="_403o";e=Math.round(e.length*1.3);for(var g=0;g<e;++g){var h=document.createElement("div");h.className="_403p";f.appendChild(h).className="_403p"}h=document.createElement("div");h.style.display="none";h.className="_5xu2";h.textContent=i._("Tap to Pick Your Reaction").toString();g=document.createElement("div");g.style.display="none";g.className="_5xu2";g.textContent=i._("Slide Finger Across").toString();e=document.createElement("div");e.style.display="none";e.className="_5xu2";e.textContent=i._("Release to Cancel").toString();var j=document.createElement("div");j.className="_403n";b&&c("CSS").addClass(j,"_31ru");j.appendChild(f);j.appendChild(e);(this.isUpdatedDock||b)&&(j.appendChild(h),j.appendChild(g));b=d("MParent").bySigil(a,"ufi-inline-actions");b||(b=d("MParent").bySigil(a,"ufi-inline-comment-actions"));b?(b.insertBefore(j,b.firstChild),this.overlay={container:j,tap:h,slide:g,release:e,dots:f}):this.overlay=null};b.removeUFIOverlay=function(){var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};b.getSupportedReactions=function(){return[1,2,4,3,7,8,16]};b.setSupported=function(){var a=d("MLegacyDataStore").get(this.flyout.getContext());a=(a=d("MLiveData").get(a.feedbackTarget).getData().supportedreactions)!=null?a:this.getSupportedReactions();var b=this.reactionElements;for(var e=0,f=b.length;e<f;++e){var g=b[e],h=d("MLegacyDataStore").get(g);h=h.reaction;c("CSS").conditionShow(g,a.indexOf(h)>=0)}};b.setNUXTooltip=function(a){this.nuxTooltip=a};return a}(),p;function a(a){p=new o(a)}function b(a){if(p){p.addAnchor(a);return}n.push(a)}function e(a){m=a,p&&p.setNUXTooltip(a)}g.init=a;g.addAnchor=b;g.initNUX=e}),98);
__d("FBFeedLocations",[],(function(a,b,c,d,e,f){a=Object.freeze({NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62,GROUP_NUX:63,GROUP_NUX_POST_VIEW:64,EVENT_PERMALINK:65,FUNDRAISER_PAGE:66,EXPLORE_FEED:67,CRT:68,REVIEWS_FEED:69,VIDEO_HOME_CHANNEL:70,NEWS:71,TIMELINE_FRIENDSHIP:72,SAVED_REMINDERS:73,PSYM:74,ADMIN_FEED:75,CAMPFIRE_NOTE:76,PAGES_CONTEXT_CARD:77,ACTIVITY_LOG:78,WALL_POST_REPORT:79,TIMELINE_BREAKUP:80,TOWN_HALL:81,PRODUCT_DETAILS:82,SPORTS_PLAY_FEED:83,GROUP_TOP_STORIES:84,PAGE_TIMELINE_PERMALINK:86,OFFERS_WALLET:87,INSTREAM_VIDEO_IN_LIVE:88,SPOTLIGHT:89,SEARCH_DERP:90,SOCIAL_BALLOT:91,GROUP_SUGGESTIONS_WITH_STORY:92,SOCIAL_BALLOT_PERMALINK:93,LOCAL_SERP:94,FUNDRAISER_SELF_DONATION_FEED:95,CONVERSATION_NUB:97,GROUP_TOP_SALE_STORIES:98,GROUP_LEARNING_COURSE_UNIT_FEED:99,SUPPORT_INBOX_READ_TIME_BLOCK:100,PAGE_POSTS_CARD:101,CRISIS_POST:102,SUPPORT_INBOX_GROUP_RESPONSIBLE:103,PAGE_POST_DIALOG:104,CRISIS_DIALOG_POST:105,PAGE_LIVE_VIDEOS_CARD:106,PAGE_POSTS_CARD_COMPACT:107,GROUP_MEMBER_BIO_FEED:108,LIVE_COMMENT_ATTACHMENT:109,GROUP_COMPOSER:110,GROUP_INBOX_GROUP:111,GROUP_INBOX_AGGREGATED:112,EVENTS_DASHBOARD:114,CURATED_COLLECTIONS_PAGE:115,OYML:116,COLLEGE_HOMEPAGE:117,GROUP_LIVE_VIDEOS_CARD:118,COLLEGE_HIGHLIGHTS:119,VIDEO_PERMALINK:120,JOB_CAROUSEL_NETEGO:121,TOPIC_PAGE:122,USER_SCHEDULED_POSTS:123,GOODWILL_THROWBACK_ATTACHMENT_PREVIEW:124,INSTREAM_VIDEO_IN_WASLIVE:125,INSTREAM_VIDEO_IN_NONLIVE:126,SIGNAL_APP:127,ALBUM_FEED:128,TOP_MARKETPLACE_STORIES:129,CE_PII_STRIPPED_FEED:130,TAHOE:131,SAVE_COUNT_DIALOG:132,GROUP_POST_TAG_FEED:133,GOV_DIGEST:134,GROUP_SCHEDULED:135,GAMEROOM_FEED:136,WORKPLACE_HUB_PREVIEW:137,BRANDED_CONTENT_TRENDING_POSTS:138,GROUP_ANNOUNCEMENTS:139,GROUP_ANNOUNCEMENTS_FEED:140,EXTERN_CE_PII_STRIPPED_FEED:141,CRISIS_HUB_DESKTOP:142,GROUP_DRAFT_POSTS:143,TRENDING_ISSUES:144,GAME_HUB_FEED:145,LUMOS_POST_PREVIEW:146,BRANDED_CONTENT_PAGE_SETTINGS:147,BC_MULTI_POST_REVIEW:149,ADS_TRANSPARENCY_SHOW_ADS:150,POLITICAL_POST_FEED:151,RECOMMENDATIONS_DASHBOARD:152,SEEN_CONTENT:153,AGGREGATED_FEED:154,GROUP_HOISTED:155,GROUP_MENTORSHIP_OVERVIEW_FEED:156,GROUP_MENTORSHIP_CURRICULUM_FEED:157,PAGE_SURFACE_RECOMMENDATIONS:158,SURVEY_GALLERY:159,GAMING_VIDEO_STREAMER_HUB:160,GROUP_MEETUP_FEED:161,GROUP_FLAGGED_FEED:162,PAGE_RECOMMENDATIONS_TOOL:163,MEDIA_MANAGER_HOME:164,WOODHENGE_EXCLUSIVE_FEED:165,PAGE_RECOMMENDATIONS_TAB_FEED:166,GROUP_ANNOUNCEMENTS_WITH_UFI:167,GROUP_ADMIN_TO_MEMBER_FEEDBACK:168,MEDIA_MANAGER_POST_INSIGHTS:169,MISINFORMATION_FACT_CHECKER_APP:170,WORKPLACE_TEAM_FEED:171,NEWS_STORYLINE_FEED:172,PAGE_RECOMMENDATIONS_VERTEX_TAB_FEED:173,MONTHLY_ACTIVITY_DIGEST:174,ACTOR_EXPERIENCE_APPEALS:175,WORKPLACE_NEWSFEED_PROMOTED_POST:176,ASSET3D_PHOTO_FULLSCREEN:177,MARKETPLACE_MEGAMALL:178,WORKPLACE_DISCOVERY_FEED:180,CE_PII_AND_ATTACHMENTS_STRIPPED_FEED:182,SOURCERY_PII_STRIPPED:183,ACTOR_GATEWAY:191,FBR:192,NEWS_STORYLINE_NEWSFEED_QP:193,JOBS_SINGLE_GROUP_BROWSER:194,JOBS_MULTI_GROUP_BROWSER:195,ACTION_EXPERIENCE:196,GROUP_ALERTED_FEED:197,CANDIDATE_PACKET_REVIEW:198,BUSINESS_FEED:199,NEWS_OCT_DRAFT_POST_PREVIEW:200,CENTRA_INVESTIGATION_FEED:201,TOP_GROUP_POSTS_TOOL:202,VIDEO_HOME_FEED:203,WORKPLACE_SHORTCUTS_FEED:204,NEXT_TOOL:205,CLIPS_LIBRARY:206,GRAMMAR_SEARCH:207,NEWSFEED_INJECTED_STORY_FROM_EMAIL_NOTIFICATION:208,GROUP_QUALITY:209,WORKPLACE_FOLLOWEES_FEED:210,MARKETPLACE_YOU_FEED:211,WORKPLACE_ADMIN_REPORTED_CONTENT:212,PAGE_INBOX:213,OFFERS_TAB:214,PRODUCT_QUESTION:215,PAGE_QUALITY:216,PUBLISHER_TRANSPARENCY:217,PROFESSIONAL_BUYER_PROGRAM:218,WORKPLACE_APPROVALS:219,UX_RESEARCH_FEEDS_TOOL:220,PAGE_INBOX_POST_VIEW:221,COMET_MEDIA_VIEWER:222,GAMES_VIDEO_CLIPS_HOME_IMMERSIVE_PLAYER:223,SOURCERY_EXTERN_PII_STRIPPED:224,GAMING_FEED:225,PARTNER_ASSESSMENT:226,WORK_SIMILAR_POSTS:227,LIVE_PRODUCER:228,SUPPLIER_CONNECT:229,WORK_GROUP_LEARNING:230,GROUP_WATCH_PARTIES_FEED:231,SRT_PROCUREMENT:232,PROCUREMENT_REQUEST:233,WORKPLACE_GROUP_NOTIFICATION:234,LIVING_ROOM_DASHBOARD:235,LINEAR_CHANNEL:236,WORKPLACE_HELPDESK:237,BCM_HOME:238,WORKPLACE_SERP:239,WORK_CHAT_STORY_PREVIEW:240,WORKPLACE_SERP_OVERLAY:241,WORKPLACE_KNOWLEDGE:242,WORKPLACE_ESM:243,WORK_DRAFTED_FOR:244,WORK_DRAFTED_FOR_OTHERS:245,EVENT_COMPOSER:246,COMET_CORONAVIRUS_HUB_FEED:247,FEED_COMPOSER:248,GENERAL_SEARCH_DESKTOP_ADS:249,COMET_CORONAVIRUS_HUB_WYSSH:250,LOCAL_COMMUNITY_FEED:251,LOCAL_COMMUNITY_PROMPTS_FEED:252,SERVICES_LOCAL_BUSINESS_DISCOVERY:253,GROUP_COMMUNITY_HELP_FEED:254,WORKPLACE_PLUGIN:255,COMET_PAYCHECK_PROTECTION_PROGRAM:256,GROUP_COMMUNITY_VIEW:257,EVENT_PENDING:258,AGGREGATED_NOTIFICATIONS_PERMALINK:259,VIDEO_HOME_LIVE_TAB:260,WORKPLACE_PLUGIN_GROUP_FEED:261,COMET_RACIAL_JUSTICE_HUB_FEED:262,CM_ORGANIC_CONTENT_PREVIEW_UFI:263,CM_FEED_VIEW:264,COMET_RACIAL_JUSTICE_HUB_POST_CAROUSEL:265,GROUP_SCHEDULED_PENDING:266,CIVIL_RIGHTS_HUB:267,PHOTO_REVIEW:269,PROFILE_PLUS_TIMELINE:270,GROUPS_TARGETED_TAB:271,LIVE_EVENT:272,SRT_GESTALT_PII_STRIPPED_FEED:273,CONTINUOUS_CLOSE:274,GROUP_VOICE:275,GROUPS_VIEWER_CONTENT_DELETED_POSTS:276,GROUPS_VIEWER_CONTENT_PENDING_POSTS:277,GROUPS_VIEWER_CONTENT_PUBLISHED_POSTS:278,GROUPS_VIEWER_CONTENT_SCHEDULED_POSTS:279,DISCOVERY_HUB_CLIMATE_CHANGE_HUB:280,WORK_SHIFT_COVER:281,ACTIVITY_AND_FEEDBACK_TEST:282,WORKSTREAM_STEP_FEED:283,COMMENT_INSIGHTS_FEED:284,GROUP_CONFLICTS:285,WORK_GARDEN:286,EVENT_SCHEDULED:287,WORK_GROUP_PENDING:288,WORKPLACE_KNOWLEDGE_NOTES:289,WORKPLACE_QA:290,COMET_PAGE_CARDS:291,WORKPLACE_EMAIL_LANDING:292,UNKNOWN_DO_NOT_USE:293,GROUP_MODERATION_ALERT_QUEUE:294,COMET_SURVEY_GALLERY:295,MEDIA_MANAGER_INSIGHTS_BENCHMARKING_TRENDING_POSTS:296,GRATITUDE_LIBRARY:297,WORKPLACE_QA_SEARCH:298,BIZWEB_HOME_CARDS:299,GROUP_ADMIN_AUTONOMY_QUEUE:300,BULLETIN:301,GROUPS_MODMIN_REVIEW_FOLDER:302,COMMUNITY_HELP_DRIVE:303,GROUP_QUESTIONS_FEED:304,FB_NOTES:305,ORION_PLAYER:306,SHOP_AND_DISCOVER_SURFACE:307,SUBGROUP:308,GROUPS_VIEWER_CONTENT_FLAGGED:309,BUSINESS_COMMENT_INBOX_TAB:310,FUNDRAISER_HUB:311,GROUPS_SURFACE_HIGHLIGHTS:312,BIZWEB_HOME_AD_PREVIEW:313,WORKPLACE_MS_TEAMS:314,SI_LEARNING_CLASS:315,CREATOR_STUDIO_INSPIRATION_HUB:316,BIZWEB_RECENT_POSTS_FEED_CARD:317});f["default"]=a}),66);
__d("ShareFunnelEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1876820");c=b("FalcoLoggerInternal").create("share_funnel_event",a);e.exports=c}),null);
__d("ShareMenuTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:ShareMenuLoggerConfig")}),null);
__d("calculateShareSignificance",[],(function(a,b,c,d,e,f){"use strict";var g=5;a=function(a){if(!a)return"no_text";var b=new Set();(a||"").toLowerCase().split(" ").forEach(function(a){return b.add(a)});return b.size>g?"significant":"not_significant"};b=a;f["default"]=b}),66);
__d("getJSEnumSafe",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b==null)return null;if(!Object.prototype.hasOwnProperty.call(a,b))return null;b=b;return a[b]}f["default"]=a}),66);
__d("getShareAudienceFromPrivacyString",[],(function(a,b,c,d,e,f){"use strict";a=function(a){switch(a){case null:case void 0:case"unknown":return"unknown";case"286958161406148":return"self";case"300645083384735":return"everyone";case"368493386561757":case"275425949243301":return"fof";case"123780391104836":case"291667064279714":return"friends";default:return"custom"}};b=a;f["default"]=b}),66);
__d("ShareMetricsLoggingController",["FBFeedLocations","FBLogger","ShareFunnelEventFalcoEvent","ShareMenuTypedLoggerLite","calculateShareSignificance","getJSEnumSafe","getShareAudienceFromPrivacyString","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={appid:2220391788200892,name:"feed_share_action"},i="5008544042549901";function a(a){if(!a)return;var b;a.audience==="own"?b=a.privacy:a==="friend"?b="friend_timeline":b=a.audience;a=a.add_to_story?"add_to_story_now":"share_now";k("share_created",a,b,"no_text")}function b(a){if(!a)return;a=a.responseURL&&a.responseURL.includes("add_to_story")?"add_to_story_now":"share_now";k("share_failure",a,null,"no_text")}function d(a,b,d,e,f){var g="unknown";switch(b){case"self":g=c("getShareAudienceFromPrivacyString")(f);break;case"friend":g="friend_timeline";break;case"message":g="messenger";break;case"group":g="group";break;case"page":g="page";break}var h;switch(e){case"share_now_menu/share_to_page":h="share_to_page";break;case"share_now_menu/post_to_group":h="share_to_group";break;case"share_now_menu/send_message":h="send_in_message";break;case"share_now_menu/share_friend_timeline":h="share_to_friend_timeline";break;case"share_now_menu/write_post":h="write_post";break;case"share_now_menu/add_to_story":h="add_to_story";break;case"living_room_sprout":h="start_living_room";break;default:h="unknown";break}b=c("calculateShareSignificance")(d);k(a,h,g,b)}function e(a,b){if(!c("gkx")("1876822")){c("ShareMenuTypedLoggerLite").log(babelHelpers["extends"]({},h,{fb_share_type:"share_flow_started",shareable_id:a}));return}var d=c("getJSEnumSafe")(c("FBFeedLocations"),b);d==null&&c("FBLogger")("comet_reshares").warn("Failed to produce fb feed location mapping for share logging");var e=(b=a)!=null?b:i;a==null&&c("FBLogger")("comet_reshares").warn("Shareable ID provided is null");c("ShareFunnelEventFalcoEvent").logImmediately(function(){var a;return{fb_feed_location:(a=d)!=null?a:293,fb_share_type:"share_flow_started",shareable_id:e}})}function f(a,b){if(!c("gkx")("1876822")){c("ShareMenuTypedLoggerLite").log(babelHelpers["extends"]({},h,{fb_share_type:"share_abandoned",shareable_id:a}));return}var d=c("getJSEnumSafe")(c("FBFeedLocations"),b);d==null&&c("FBLogger")("comet_reshares").warn("Failed to produce fb feed location mapping for share logging");var e=(b=a)!=null?b:i;a==null&&c("FBLogger")("comet_reshares").warn("Shareable ID provided is null");c("ShareFunnelEventFalcoEvent").logImmediately(function(){var a;return{fb_feed_location:(a=d)!=null?a:293,fb_share_type:"share_abandoned",shareable_id:e}})}function j(a){var b=a.fb_feed_location,d=babelHelpers.objectWithoutPropertiesLoose(a,["fb_feed_location"]);if(!c("gkx")("1876822")){c("ShareMenuTypedLoggerLite").log(babelHelpers["extends"]({},h,d));return}var e=c("getJSEnumSafe")(c("FBFeedLocations"),b);e==null&&c("FBLogger")("comet_reshares").warn("Failed to produce fb feed location mapping for share logging");var f=(d=a.shareable_id)!=null?d:i;a.shareable_id==null&&c("FBLogger")("comet_reshares").warn("Shareable ID provided is null");c("ShareFunnelEventFalcoEvent").logImmediately(function(){var b;return{fb_feed_location:(b=e)!=null?b:293,fb_share_type:a.fb_share_type,fb_entry_point:a.fb_entry_point,shareable_id:f}})}function k(a,b,d,e){!c("gkx")("1954641")?c("ShareMenuTypedLoggerLite").log({fb_share_type:a,fb_entry_point:b,fb_audience:d,fb_significance:e,name:"feed_share_action"}):c("ShareFunnelEventFalcoEvent").logImmediately(function(){var c;return{fb_feed_location:293,fb_share_type:a,fb_entry_point:(c=b)!=null?c:void 0,shareable_id:i,fb_audience:(c=d)!=null?c:void 0,fb_significance:(c=e)!=null?c:void 0}})}g.logShareNowResponsePayload=a;g.logShareNowFailure=b;g.logReactComposerEvent=d;g.logShareFlowStarted=e;g.logShareFlowAbandoned=f;g.logShareFunnelEvent=j;g.log=k}),98);
__d("MFeedShareAnalytics",["MSiteMessengerDiodeTypedLogger","MarauderLogger","ShareMetricsLoggingController","Stratcom","calculateShareSignificance","getShareAudienceFromPrivacyString"],(function(a,b,c,d,e,f,g){"use strict";a={_listeners:[],_initShareMode:null,_currentShareMode:null,_entryPointFromShareMode:function(a){switch(a){case"friend":return"share_to_friend_timeline";case"group":return"share_to_group";case"message":return"send_in_message";case"oneclick":return"share_now";case"own":case"self":return"write_post";case"page":case"selfpage":return"share_to_page";case"whatsapp_message":return"share_to_whatsapp";default:return"unknown"}},init:function(){this._cleanupListeners(),this._registerListeners(),this._initShareMode=null,this._currentShareMode=null},_onTearDown:function(){this._currentShareMode&&this.onShareAbandoned()},_registerListeners:function(){var a=this;this._listeners.push(c("Stratcom").listen("m:sharemode:selected",null,function(b){b=b.getData();b&&b.sharemode&&(a._currentShareMode=b.sharemode)}));this._listeners.push(c("Stratcom").listen("m:page:unload",null,function(){a._onTearDown()}))},_cleanupListeners:function(){this._onTearDown();while(this._listeners.length>0){var a=this._listeners.pop();a&&a.remove&&a.remove()}},onMenuOpened:function(){this._initShareMode=null,this._currentShareMode=null,d("ShareMetricsLoggingController").log("share_flow_started",null,null,null)},onMenuOptionSelected:function(a,b,e,f){this._initShareMode=a;this._currentShareMode=a;var g=this._entryPointFromShareMode(a);d("ShareMetricsLoggingController").log("share_option_selected",g,null,null);a==="message"&&new(c("MSiteMessengerDiodeTypedLogger"))().setMessagingEntryPoint("feed_story_share_as_message").log();b===60&&this._logWatchGrowthOutboundSharing(a,e,f)},_logWatchGrowthOutboundSharing:function(a,b,d){var e=null;switch(a){case"message":e="messenger";break;case"whatsapp_message":e="whatsapp";break;case"moreoptions":e="unknown";break}if(e!=null){a=b.startsWith("/")?"https://www.facebook.com"+b:b;b={destination:e,is_watch_eligible:1,source:"Watch",target_id:d,target_type:"post",url:a};c("MarauderLogger").log("watch_growth_outbound_share",void 0,b)}},_getShareTextArea:function(){var a=document.getElementById("share_msg_input");return a instanceof HTMLTextAreaElement?a:null},_getAudienceFromCurrentState:function(){var a=document.getElementsByName("privacyx")[1];if(!a||!(a instanceof HTMLInputElement))return"unknown";switch(this._currentShareMode){case"friend":return"friend_timeline";case"group":return"group";case"message":return"messenger";case"page":case"selfpage":return"page";case"self":case"own":return c("getShareAudienceFromPrivacyString")(a.value);default:return"unknown"}},onShareAbandoned:function(){var a=null,b=null,e=null;if(this._initShareMode){a=this._entryPointFromShareMode(this._initShareMode);var f=this._getShareTextArea();f&&(b=c("calculateShareSignificance")(f.value));e=this._getAudienceFromCurrentState()}d("ShareMetricsLoggingController").log("share_abandoned",a,e,b);this._initShareMode=null;this._currentShareMode=null}};b=a;g["default"]=b}),98);
__d("AdsTransparencyReportAdTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdID=function(a){this.$1.ad_id=a;return this};c.setAdsPageType=function(a){this.$1.ads_page_type=a;return this};c.setEntity=function(a){this.$1.entity=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setNativeUserID=function(a){this.$1.native_user_id=a;return this};c.setNfxStoryLocation=function(a){this.$1.nfx_story_location=a;return this};c.setProductLocation=function(a){this.$1.product_location=a;return this};c.setReportReason=function(a){this.$1.report_reason=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={ad_id:!0,ads_page_type:!0,entity:!0,event:!0,native_user_id:!0,nfx_story_location:!0,product_location:!0,report_reason:!0,session_id:!0};f["default"]=a}),66);
__d("MReportAdLoggingEvents",["AdsTransparencyReportAdTypedLogger","EventListener","WebFunnelLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){c("EventListener").listen(a,"click",function(){new(c("AdsTransparencyReportAdTypedLogger"))().setEvent("click").setAdID(b).setEntity(d).setSessionID(e).setProductLocation(g).setAdsPageType(f).log();if(d==="xout_menu"&&h){var a=new(c("WebFunnelLogger"))("AdsReportingFunnelDefinition");a.markStart();a.setAction("click").setActionTag("xout_menu").addFunnelPayload("flowtype",h).setSessionKey(b).log()}})}g.registerMenuItemClick=a}),98);
__d("ExternalShareTrackingEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743606");c=b("FalcoLoggerInternal").create("external_share_tracking_event",a);e.exports=c}),null);
__d("ExternalShareTracker",["ExternalShareTrackingConfig","ExternalShareTrackingEventFalcoEvent","Random","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){if(!h())return a;a=a.addQueryData((a={},a[c("ExternalShareTrackingConfig").shareParam]=i(),a));j(a,b,d,e);return a}function h(){return c("gkx")("1136644")}function i(){var a="",b=c("ExternalShareTrackingConfig").characterSet,e=b.length;for(var f=0;f<c("ExternalShareTrackingConfig").idSize;f++)a+=b.charAt(d("Random").uint32()%e);return a}function j(a,b,d,e){var f={url:a.toString(),entry_point:b,content_location:d,intent:e};c("ExternalShareTrackingEventFalcoEvent").log(function(){return f})}g.maybeAppendTrackingParam=a;g._shouldAppendExternalShareParam=h;g._genExternalTrackingID=i;g._logData=j}),98);
__d("MCompositionShareFields",[],(function(a,b,c,d,e,f){a=Object.freeze({ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI",LINK_NO_CHANGE:"LINK_NO_CHANGE",MSITE_PHOTO_URL:"MSITE_PHOTO_URL",MSITE_VIDEO_URL:"MSITE_VIDEO_URL",ATTACHMENT_ID:"ATTACHMENT_ID"});f["default"]=a}),66);
__d("MShareToWhatsapp",["URI","goURI"],(function(a,b,c,d,e,f,g){"use strict";var h="https://api.whatsapp.com/send",i="text";function a(a){a=new(c("URI"))(h).addQueryData(i,a);c("goURI")(a)}g.WhatsappSendApiString=h;g.WhatsappSendApiParam=i;g.sendToWhatsapp=a}),98);
__d("XFbWatchShorturlCreateAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/create_fbwatch_short_url/",{})}),null);
__d("XMessengerMSiteShareDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share/diode/",{feedback_referrer:{type:"String"},feedback_source:{type:"Int"},internal_preview_image_id:{type:"Int"},key_link:{type:"String"},key_mode:{type:"String"},messaging_entry_point:{type:"Enum",enumType:1},post_fbid:{type:"Int",required:!0},redirector_fbid:{type:"Int"}})}),null);
__d("MShareFlyout",["cx","fbt","DOM","ExternalShareTracker","MComposerEntry","MComposition","MCompositionShareFields","MFeedShareAnalytics","MLegacyDataStore","MModalDialog","MParent","MRedirectToNative","MRequest","MShareToWhatsapp","MViewport","NTAnnounceSubscription","Stratcom","URI","Vector","XFbWatchShorturlCreateAsyncController","XMessengerMSiteShareDialogController","clearTimeout","ge","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j="mufi-inline",k="oneClickShareResult",l=6e3,m="page_share_content_action",n="/a/sharer.php",o="/sharer-dialog.php",p,q,r,s,t,u,v,w,x={},y={},z=[],A,B,C,D,E,F,G,H,I,J;function a(a,b,d,e,f){if(p)return;Z();A=b;p=a;q=a.getRoot();B=d;b=e||{};H=b.bluebarNoOverlapBuffer;G=e.isHardDiodeEnabled;F=e.shareOptionOrder;c("MModalDialog").init();c("MFeedShareAnalytics").init();ba(f)}function b(a){return}function K(a,b){b===void 0&&(b=null),c("MFeedShareAnalytics").onMenuOptionSelected(a,u,b,s),I=!0}function L(a){c("MModalDialog").isOpen()?c("MModalDialog").load(a):c("MModalDialog").open(a,M)}function M(a){!!a&&a.canceled&&c("MFeedShareAnalytics").onShareAbandoned()}function N(){var a=new(c("MRequest"))(n);a.setMethod("POST");a.addData({m:"oneclick",privacyx:A,sid:s,shareID:s,fs:u,fr:v,internal_preview_image_id:r,should_share_post:E,direct:!0,_ft_:w});a.send();K("oneclick");p.hide()}function O(){if(B){var a={};a.ID=s;a.FEEDBACK_SOURCE=u;a[c("MCompositionShareFields").FEEDBACK_REFERRER]=v;var b={};b.composer_type="share";b.composertitle=i._("Share");b.contextualmessage=i._("Share on your timeline");b.placeholder=i._("Write something...");b.disable_photos=!0;var d=c("MViewport").getScrollTop();c("MComposerEntry").invoke(new(c("MComposition"))().setStoreData("CONFIG",b).setStoreData("SHARE",a))["finally"](function(){return c("MViewport").scrollTo(0,d)})}else L(new(c("URI"))(o).setQueryData({fs:u,fr:v,sid:s,_ft_:w,internal_preview_image_id:r}).toString()),K("self"),p.hide()}function P(a){L(new(c("URI"))(o).setQueryData({fs:u,fr:v,m:a,sid:s,_ft_:w,internal_preview_image_id:r,selected_page_id:D}).toString()),K(a),p.hide()}function Q(){var a=c("XMessengerMSiteShareDialogController").getURIBuilder().setString("feedback_referrer",v).setInt("feedback_source",u).setInt("internal_preview_image_id",r).setString("key_link",window.location.href).setString("key_mode","message").setInt("post_fbid",s).setInt("redirector_fbid",C).setEnum("messaging_entry_point","feed_story_share_as_message").getURI();G?d("MRedirectToNative").redirect(a,{newTab:!0}):new(c("MRequest"))(a).send();K("message",t);p.hide()}function R(){var a=new(c("URI"))(t);if(t.startsWith("/")){var b,e="scmts",f="scwspsdd";a=new(c("URI"))("https://www.facebook.com"+t).addQueryData((b={},b[e]=f,b))}e=d("ExternalShareTracker").maybeAppendTrackingParam(a,"sdd",u,"share_to_whatsapp").toString();u===60&&c("gkx")("1059928")?X(t,"w",a.toString(),S):S(e,a.toString())}function S(a,b){d("MShareToWhatsapp").sendToWhatsapp(a),K("whatsapp_message",b),p.hide()}function T(a){if(typeof navigator.share!=="function"){p.hide();return}t=V(t);u===60&&c("gkx")("1059928")?X(t,null,t,U):U(t,t)}function U(a,b){a={url:a};navigator.share(a).then(function(){})["catch"](function(a){});K("moreoptions",b);p.hide()}function V(a){a+=a.includes("?")?"&":"?";a+="sfnsm=mo";return a}function W(a,b){a+=a.includes("?")?"&":"?";a+="vh=e&s="+C;b&&(a+="&d="+b);return a}function X(a,b,d,e){a=W(a,b);b=c("XFbWatchShorturlCreateAsyncController").getURIBuilder().getURI();a={destination_url:encodeURIComponent(a)};b=new(c("MRequest"))(b).setMethod("POST");b.setData(a);b.listen("done",function(a){a=(a=a.payload)!=null?a:d;e(a,d)});b.send()}function aa(a,b){a=b&&b.is_comment_share;b=["share-more-options-button","share-in-a-group-button","share-to-page-button","share-with-message-button"];a&&!x[s]?(Y("share-one-click-button",!1),Y("share-post-one-click-button",!1)):E?(Y("share-one-click-button",!1),b.push("share-post-one-click-button")):(b.push("share-one-click-button"),Y("share-post-one-click-button",!1));a=p.getContext();b=a!=null?d("MLegacyDataStore").get(a).is_acting_as_page:J;if(b){a=["share-to-page-button"];F.map(function(a){return Y(a,!1)});a.map(function(a){return Y(a,!0)})}else F.map(function(a){return Y(a,!0)})}function e(a){var b=p.getContext();b!=null?(d("MLegacyDataStore").set(b,{is_acting_as_page:a}),J=null):J=a}function Y(a,b){a=document.getElementById(a);a!==null&&(a.style.display=b?"":"none")}function ba(a){z=[p.addListener("beforeshow",function(){if(H!=null){var b=c("MViewport").getScrollTop();b<H&&c("ge")("header")?p.setAutoflipTopOffset(H-b):p.setAutoflipTopOffset(0)}b=p.getContext();var e=d("MLegacyDataStore").get(b);E=e.reshare_post;s=e&&e.share_id;u=e&&e.feedback_source;v=e&&e.feedback_referrer;r=e&&e.internal_preview_image_id;t=e&&e.shareable_uri;C=e&&e.user_id;var f=d("MParent").bySigil(b,"story-div");a?w=a:w=f?d("MLegacyDataStore").get(f).linkdata:null;s&&(x[s]=ca(b));J!=null&&(d("MLegacyDataStore").set(b,{is_acting_as_page:J}),J=null);c("MFeedShareAnalytics").onMenuOpened();I=!1;aa(q,e)}),p.addListener("hide",function(){I||c("MFeedShareAnalytics").onShareAbandoned()}),c("Stratcom").listen("click","share-one-click-button",N),c("Stratcom").listen("click","share-post-one-click-button",N),c("Stratcom").listen("click","share-with-message-button",O),c("Stratcom").listen("click","share-in-a-private-message-button",Q),c("Stratcom").listen("click","share-to-whatsapp",R),c("Stratcom").listen("click","share-to-page-button",function(){P("page")}),c("Stratcom").listen("click","share-in-a-group-button",function(){P("group")}),c("Stratcom").listen("click","share-more-options-button",function(){T(t)}),c("Stratcom").listen("m:page:unload",null,Z),d("NTAnnounceSubscription").subscribe(m,function(a){a=JSON.parse(a),s=a.content_id,D=a.page_id,P("page")})]}function Z(){p=null;for(var a in y)c("clearTimeout")(y[a]);y={};while(z.length){var b=z.pop();b&&b.remove&&b.remove()}}function ca(a){if(!a||a===document||a instanceof DocumentFragment)return null;return c("Stratcom").hasSigil(a,j)?a:d("MParent").bySigil(a,j)}function $(a,b){var d=c("DOM").scry(a,"div",k);d[0]&&c("DOM").remove(d[0]);d=c("DOM").create("div",{className:"_4_m7"},b);c("Stratcom").addSigil(d,k);c("DOM").appendContent(a,d);return d}function f(b,a){var d=x[a];delete x[a];if(!d)return;var e=$(d,b);b=c("Vector").getPos(d);d=c("Vector").getDim(d).y;var f=c("MViewport").getScrollTop(),g=c("MViewport").getScrollHeight();(b.y<f||b.y+d>f+g)&&c("MViewport").scrollTo(b.x,b.y-250);y[a]=c("setTimeoutAcrossTransitions")(function(){delete y[a],c("DOM").remove(e)},l)}function h(b,a){var d=x[a];delete x[a];if(!d)return;if(c("Vector").getPos(d).y>=c("MViewport").getScrollTop()){var e=$(d,b);y[a]=c("setTimeoutAcrossTransitions")(function(){delete y[a],c("Vector").getPos(d).y>=c("MViewport").getScrollTop()&&c("DOM").remove(e)},l)}}a={init:a,initMisinfo:b,onSuccess:h,onFailure:f,setIsActingAsPage:e};g["default"]=a}),98);
__d("MLayerDestroyOnHide",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a,this.$2}var b=a.prototype;b.enable=function(){this.$2=this.$1.addListener("hide",this.$1.destroy.bind(this.$1))};b.disable=function(){this.$1=null,this.$2.remove(),this.$2=null};return a}();e.exports=a}),null);
__d("MUFIComposerFocus",["DOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g){"use strict";var h="mufi-composer-focus",i;function j(a){a=a;var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function k(a,b){var c=Math.min(a.length,b.length)-1;for(var c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function l(a){if(!a)return null;var b=d("MParent").bySigil(a,"story-div")||d("MParent").bySigil(a,"snowflake-root")||d("MParent").bySigil(a,"notes-root");if(!b)return null;b=d("DOM").scry(b,"*","mufi-composer").filter(function(a){return!d("MParent").bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=j(a);a=b.reduce(function(a,b,d){d=j(b);d=k(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function m(a){var b=a.getNode(h);if(!(b instanceof HTMLElement))return;b=l(b);b&&(a.prevent(),b.focus())}function a(a){if(!a||!i)return!1;a=c("Stratcom").hasSigil(a,h)?a:d("MParent").bySigil(a,h);return!!l(a)}function n(a){a=a.getNode(h);if(!(a instanceof HTMLElement))return;var b=l(a);if(b){var c=d("MParent").bySigil(a,"touchable");c&&(d("MLegacyDataStore").get(c).nativeClick=!0);c=d("Parent").byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+d("DOM").uniqID(b))}}function b(){i||(c("Stratcom").listen("touchstart",h,n),c("Stratcom").listen("click",h,m),i=!0)}e=function(){return i};g.isComposerFocusTrigger=a;g.init=b;g.isInitialized=e}),98);
__d("MUFILikeButton",["cx","ActorURI","CSS","Event","FBLogger","MLegacyDataStore","MLiveData","MParent","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f,g,h){var i={is_like:1},j={is_like:0};a=function(){function a(a,b,e,f){var g=this;this.onKeyPress=function(a){(a.code==="Enter"||a.code==="Space")&&g.onClick(a)};this.onMouseUp=function(a){a.srcElement instanceof HTMLElement&&a.srcElement.blur()};this.onUnload=function(){g.$3.release(),g.$3=null};this.$1=a;this.$2=d("MLiveData").get(b);this.$4=b;this.$5=e||{log:c("emptyFunction")};this.$6=f;this.$7=d("MUFIReactionsUtils").getConfigForBackgroundRetry(b);this.$3=new(c("SubscriptionsHandler"))();this.$3.addSubscriptions(c("Event").listen(this.$1,"click",this.onClick.bind(this)),c("Event").listen(this.$1,"keypress",this.onKeyPress.bind(this)),c("Event").listen(this.$1,"mouseup",this.onMouseUp.bind(this)),this.$2.listen("change",this.onChange.bind(this)),c("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var b=a.prototype;b.onChange=function(){var a=this.$2.getData();if(a.request_id===this.$6)return;a=a.has_viewer_liked;c("CSS").conditionClass(this.$1,"_77la",a);c("Stratcom").removeSigil(this.$1,a?"like":"unlike");c("Stratcom").addSigil(this.$1,a?"unlike":"like")};b.getFeedbackData=function(){var a=this.$2.getData(),b=a.has_viewer_liked,c=b?a.like_count-1:a.like_count+1,d=a.reduced_like_count;isNaN(d)||(d=c.toString());return{has_viewer_liked:!b,like_count:c,like_counts:[a.like_counts[1]||null,a.like_counts[0]],like_friend_sentences:[a.like_friend_sentences[1]||null,a.like_friend_sentences[0]],like_sentences:[a.like_sentences[1]||null,a.like_sentences[0]],reduced_like_count:d}};b.getRequestData=function(){return null};b.onClick=function(a){a.preventDefault();a=a.target;if(!a||!(a instanceof Element))return;a=d("MUFIRequest").getURI(a.getAttribute("href")||a.getAttribute("data-uri"));this.$2.getData().has_viewer_liked?(a.addQueryData("ul",!0),a.removeQueryData("reaction_type")):a.removeQueryData(["ul","reaction_type"]);var b=d("MParent").bySigil(this.$1,"feed-ufi-metadata");if(b){b=d("MLegacyDataStore").get(b).actor_id;b&&(a=d("ActorURI").create(a,String(b)))}else c("FBLogger")("mobile_web_ufi","feed_ufi_metadata_missing").warn("Actor ID data store not available. Making request without actor id.");d("MUFIRequest").send(this.$4,this.getFeedbackData(),a,this.getRequestData(),this.$7);this.$5.log("like",void 0,this.$2.getData().has_viewer_liked?j:i)};return a}();g["default"]=a}),98);
__d("MUFIReactionButton",["cx","fbt","CSS","DOM","MLiveData","MUFILikeButton","MUFIReactionsUtils","Stratcom","Style","UFIReactionIcons","UFIReactionTypes","createIxElement"],(function(a,b,c,d,e,f,g,h,i){var j=1,k=0,l=16;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,i){h=a.call(this,b,c,e,f)||this;h.$MUFIReactionButton1=b;h.$MUFIReactionButton2=d("MLiveData").get(c);h.$MUFIReactionButton3=c;h.$MUFIReactionButton4=f;h.$MUFIReactionButton5=g||l;b.href&&b.setAttribute("data-uri",b.href);b.removeAttribute("href");return h}var e=b.prototype;e.onChange=function(){var a=this.$MUFIReactionButton2.getData();if(a.request_id===this.$MUFIReactionButton4)return;var b,e;a=a.viewerreaction;var f=!!a;a&&!c("UFIReactionTypes").reactions[a]&&(a=null);if(!a)b="inherit",e=i._("Like");else{var g=null;if(a!==j){var h=c("UFIReactionIcons")[a][this.$MUFIReactionButton5];h||(h=c("UFIReactionIcons")[a][l]);g=c("createIxElement")(h);c("CSS").addClass(g,"_4h-b")}b=c("UFIReactionTypes").reactions[a].color;h=c("UFIReactionTypes").reactions[a].display_name;e=[g,h]}d("DOM").setContent(this.$MUFIReactionButton1,e);this.$MUFIReactionButton1.setAttribute("aria-pressed",f);c("CSS").conditionClass(this.$MUFIReactionButton1,"_77ld",f&&a!==j);c("CSS").conditionClass(this.$MUFIReactionButton1,"_77la",f&&a===j);c("Style").set(this.$MUFIReactionButton1,"color",b);c("Stratcom").removeSigil(this.$MUFIReactionButton1,f?"like":"unlike");c("Stratcom").addSigil(this.$MUFIReactionButton1,f?"unlike":"like");c("Stratcom").invoke("ufi/reactionButtonClicked",null,this.getRequestData())};e.getFeedbackData=function(){var a=this.$MUFIReactionButton2.getData();return d("MUFIReactionsUtils").getReactionData(a,a.has_viewer_liked||a.viewerreaction?k:j)};e.getRequestData=function(){var a=this.$MUFIReactionButton2.getData(),b=a.has_viewer_liked||a.viewerreaction;return{reaction_type:b?k:j,ft_ent_identifier:a.ft_ent_identifier}};e.onClick=function(b){if(c("Stratcom").hasSigil(this.$MUFIReactionButton1,"kaios-like-react-trigger")){var d=this.$MUFIReactionButton2.getData();d.viewerreaction&&b.stopPropagation()}a.prototype.onClick.call(this,b)};return b}(c("MUFILikeButton"));g["default"]=a}),98);